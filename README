Dependencies
============

This layer depends on:

  URI: git://git.yoctoproject.org/poky
  branch: master
  revision: HEAD

  URI: git://git.openembedded.org/meta-openembedded.git
  branch: master
  revision: HEAD

  URI: git://github.com/meta-qt5/meta-qt5.git
  branch: master
  revision: HEAD

Patches
=======

Please submit any patches against the hyperion layer to the
the maintainer:

Maintainer: Thomas COIN <esvcorp at gmail.com>


Table of Contents
=================

  I. Adding the hyperion layer to your build
 II. Hyperion configuration


I. Adding the hyperion layer to your build
==========================================

In order to use this layer, you need to make the build system aware of
it.

Assuming the hyperion layer exists at the top-level of your
yocto build tree, you can add it to the build system by adding the
location of the hyperion layer to bblayers.conf, along with any
other layers needed. e.g.:

  BBLAYERS ?= " \
    /path/to/yocto/meta \
    /path/to/yocto/meta-openembedded/meta-oe \
    /path/to/yocto/meta-yocto \
    /path/to/yocto/meta-yocto-bsp \
    /path/to/yocto/meta-raspberrypi \
    /path/to/yocto/meta-qt5 \
    /path/to/yocto/meta-hyperion \
    /path/to/yocto/meta-hyperion/meta-raspberrypi \
    "

You also need to set a valid machine in your local.conf. e.g.:

  MACHINE = "raspberrypi2"


II. Hyperion configuration
==========================

The hyperion configuration is made via PACKAGECONFIG.
The list of available package configurations is:
  - qt5 : Build hyperion againts qt5
  - amlogic : Enable the AMLOGIC video grabber
  - dispmanx : Enable the RPi dispmanx grabber
  - fb : Enable the framebuffer grabber
  - protobuf : Enable PROTOBUF server
  - spi : Enable SPI device
  - tinkerforge : Enable the TINKERFORGE device
  - v4l2 : Enable the V4L2 grabber
  - x11 : Enable the X11 grabber
  - ws2812b : Enable the WS2812b-PWM device
  - ws281x : Enable the WS281x-PWM device

By default are enabled :
  - qt5
  - protobuf
  - spi
  - v4l2
  - x11 (if x11 is in the DISTRO_FEATURES)

When using meta-raspberrypi extra layer from meta-hyperion,
the following extra package configurations are added :
  - dispmanx
  - ws2812b
  - ws281x

You can change the hyperion config by adding the list of desired
features in you local.conf. e.g. :
  # override PACKAGECONIFG
  PACKAGECONFIG_pn-hyperion = "some features"
  # append a feature
  PACKAGECONFIG_pn-hyperion_append = " feature"
  # remove a feature
  PACKAGECONFIG_pn-hyperion_remove = "feature"

To add you own hyperion JSON configuration file, you need to override the
HYPERION_CONFIG_FILE variable. You can set it in your local.conf. e.g. :
  HYPERION_CONFIG_FILE = "/path/to/your/config/hyperion.config.json"
